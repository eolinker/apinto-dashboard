id: "application-2.apinto.com"
name: "app"
cname: "应用管理"
resume: "应用管理统一管理应用在各个集群的生命周期。应用作为业务通讯的发起者，贯穿整个调用链。"
version: "v1.0.1"
icon: "应用管理.png"
driver: "application-2.apinto.com"
type: 1 #0为框架模块 1为核心模块 2为内置模块 3为非内置
auto: true
front:
navigation: "navigation.application"
group_id: "core_module"
define:
  profession: app
  drivers:
    - name: app
      title: APP
  skill: Application
  fields:
    - name: title           # 定义从响应中对应字段中获取显示值
      title: 名称
    - name: id
      title: ID
    - name: driver
      title: 驱动名称
    - name: description
      title: 描述
  render:
    app: |
      {
          "type": "object",
          "properties": {
              "array": {
                  "type": "array",
                  "x-component": "ArrayTable",
                  "x-component-props": {
                      "pagination": {
                          "pageSize": 10
                      },
                      "scroll": {
                          "x": "100%"
                      }
                  },
                  "items": {
                      "type": "object",
                      "properties": {
                          "column1": {
                              "type": "void",
                              "x-component": "ArrayTable.Column",
                              "x-component-props": {
                                  "width": 50,
                                  "title": "Sort",
                                  "align": "center"
                              },
                              "properties": {
                                  "sort": {
                                      "type": "void",
                                      "x-component": "ArrayTable.SortHandle"
                                  }
                              }
                          },
                          "column2": {
                              "type": "void",
                              "x-component": "ArrayTable.Column",
                              "x-component-props": {
                                  "width": 80,
                                  "title": "Index",
                                  "align": "center"
                              },
                              "properties": {
                                  "index": {
                                      "type": "void",
                                      "x-component": "ArrayTable.Index"
                                  }
                              }
                          },
                          "column3": {
                              "type": "void",
                              "x-component": "ArrayTable.Column",
                              "x-component-props": {
                                  "width": 200,
                                  "title": "参数名"
                              },
                              "properties": {
                                  "config.key": {
                                      "type": "string",
                                      "x-component": "Input"
                                  }
                              }
                          },
                          "column4": {
                              "type": "void",
                              "x-component": "ArrayTable.Column",
                              "x-component-props": {
                                  "width": 200,
                                  "title": "参数值"
                              },
                              "properties": {
                                  "config.value": {
                                      "type": "string",
                                      "x-component": "Input"
                                  }
                              }
                          },
                          "column5": {
                              "type": "void",
                              "x-component": "ArrayTable.Column",
                              "x-component-props": {
                                  "width": 200,
                                  "title": "参数位置"
                              },
                              "properties": {
                                  "config.position": {
                                      "type": "string", 
                                      "x-component": "Select",
                                      "enum": [
                                          {
                                              "children": [],
                                              "label": "请求头部",
                                              "value": "header"
                                          },
                                          {
                                              "children": [],
                                              "label": "Query",
                                              "value": "query"
                                          }
                                      ]
                                  }
                              }
                          },
                          "column6": {
                              "type": "void",
                              "x-component": "ArrayTable.Column",
                              "x-component-props": {
                                  "title": "操作",
                                  "dataIndex": "operations",
                                  "width": 200,
                                  "fixed": "right"
                              },
                              "properties": {
                                  "item": {
                                      "type": "void",
                                      "properties": {
                                          "remove": {
                                              "type": "void",
                                              "x-component": "ArrayTable.Remove"
                                          },
                                          "config": {
                                              "type": "object",
                                              "x-component": "CustomDialogComponent",
                                              "x-component-props": {
                                                  "render": {
                                                      "type": "object",
                                                      "properties": {
                                                          "key": {
                                                              "type": "string",
                                                              "title": "参数名",
                                                              "required": true,
                                                              "x-decorator": "FormItem",
                                                              "x-component": "Input"
                                                          },
                                                          "position":{
                                                              "type": "string",
                                                              "title": "参数位置",
                                                              "required": true,
                                                              "x-decorator": "FormItem",
                                                              "x-component": "Select",
                                                              "enum": [
                                                                  {
                                                                      "children": [],
                                                                      "label": "请求头部",
                                                                      "value": "header"
                                                                  },
                                                                  {
                                                                      "children": [],
                                                                      "label": "Query",
                                                                      "value": "query"
                                                                  }
                                                              ],
                                                              "default": "header"
                                                          },
                                                          "value": {
                                                              "type": "string",
                                                              "title": "参数值",
                                                              "required": true,
                                                              "x-decorator": "FormItem",
                                                              "x-component": "Input"
                                                          },
                                                          "conflict":{
                                                              "type": "string",
                                                              "title": "参数存在替换规则",
                                                              "required": true,
                                                              "x-decorator": "FormItem",
                                                              "x-component": "Select",
                                                              "enum": [
                                                                  {
                                                                      "children": [],
                                                                      "label": "convert",
                                                                      "value": "convert"
                                                                  },
                                                                  {
                                                                      "children": [],
                                                                      "label": "origin",
                                                                      "value": "origin"
                                                                  },
                                                                  {
                                                                      "children": [],
                                                                      "label": "error",
                                                                      "value": "error"
                                                                  }
                                                              ],
                                                              "default": "convert"
                                                          },
                                                          "labels":{
                                                              "type": "string",
                                                              "title": "Labels",
                                                              "x-decorator": "FormItem",
                                                              "x-component": "SimpleMapComponent",
                                                              "x-validator": [],
                                                              "x-component-props": {
                                                                  "placeholderKey":"请输入Key",
                                                                  "placeholderValue":"请输入Value"
                                                              },
                                                              "x-decorator-props": {
                                                                "labelCol": 6,
                                                                "wrapperCol": 10
                                                              }}
                                                      }
                                                  },
                                                  "title": "额外参数"
                                              }
                                          }
                                      }
                                  }
                              }
                          }
                      }
                  },
                  "properties": {
                      "add": {
                          "type": "void",
                          "x-component": "ArrayTable.Addition",
                          "x-component-props":{
                              "defaultValue":{"config":{"position":"header"}}
                          },
                          "title": "添加条目"
                      }
                  }
              }
          }
      }