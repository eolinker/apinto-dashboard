<div
  class="flex flex-nowrap justify-start overflow-y-hidden max-h-[calc(100vh_-_50px)]"
>
  <div>
    <div
      class="block-inline-block relative min-w-GROUP min-h-[calc(100vh_-_50px)] spreed-content"
      style="width: 240px"
    >
      <div class="absolute overflow-x-hidden overflow-y-auto w-[100%]">
        <div
          class="group-title"
          [ngClass]="{ 'group-title-selected': showAll }"
          (click)="viewAllUsers()"
        >
          <svg class="iconpark-icon mr5 fs18"><use href="#list"></use></svg>
          <span class="">所有用户({{ usersAmount }})</span>
        </div>
        <div>
          <eo-ng-tree-default
            nzBlockNode
            #eoNgTreeDefault
            [nzData]="nodesList"
            (nzClick)="activeNode($event)"
            [nzTreeTemplate]="nzTreeTpl"
            [nzExpandAll]="true"
          ></eo-ng-tree-default>
        </div>
        <div class="add-role-btn blue">
          <a
            eoNgUserAccess="system/role"
            (click)="openDrawer('addRole')"
            (disabledEdit)="disabledEdit($event)"
            >新建自定义角色</a
          >
        </div>
        <ng-template #nzTreeTpl let-node let-origin="origin">
          <div class="custom-node" [ngSwitch]="node.title">
            <!--当节点为超级管理员,无需dropdown-->
            <div class="f-row-js-ac" *ngSwitchCase="'超级管理员'">
              <div>
                <span>{{ node.title }}-内置({{ origin.user_num }})</span>
              </div>
            </div>
            <!--当节点为自定义管理员-->
            <div class="f-row-js-ac" *ngSwitchDefault>
              <div>
                <span>{{ node.title }}({{ origin.user_num }})</span>
              </div>

              <button
                eo-ng-dropdown
                eo-ng-button
                [nzDropdownMenu]="menu"
                nzTrigger="click"
                nzOverlayClassName="eo-ng-tree-default-dropdown-container"
                style="cursor: pointer"
                (click)="$event.stopPropagation()"
              >
                <svg class="iconpark-icon">
                  <use href="#more"></use>
                </svg>
              </button>
              <eo-ng-dropdown-menu #menu="nzDropdownMenu">
                <ul nz-menu>
                  <li nz-menu-item (click)="editCustomRoleDrawer(origin)">
                    编辑
                  </li>
                  <li
                    nz-menu-item
                    (click)="
                      nzDisabled
                        ? $event.stopPropagation()
                        : deleteCustomRoleModal(origin)
                    "
                    [nzDisabled]="nzDisabled"
                  >
                    删除
                  </li>
                </ul>
              </eo-ng-dropdown-menu>
            </div>
          </div>
        </ng-template>
      </div>
      <!-- 拖动条 -->
      <div
        class="divide_line_ldcc"
        maxWidth="450"
        minWidth="200"
        eo-ng-tree-drag
      ></div>
    </div>
  </div>
  <div>
    <router-outlet></router-outlet>
  </div>
</div>
