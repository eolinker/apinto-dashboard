<button
  eo-ng-button
  class="ml-btnybase"
  eoNgUserAccess="router"
  [disabled]="apisSet.size === 0"
  (click)="getClusterList('online')"
>
  上线
</button>
<button
  eo-ng-button
  class="ml-btnybase"
  eoNgUserAccess="router"
  [disabled]="apisSet.size === 0"
  (click)="getClusterList('offline')"
>
  下线
</button>

<ng-template #startContentTpl let-data>
  <div nz-row nzJustify="start" nzAligh="top">
    <div nz-col nzSpan="10" style="text-align: 'right'">
      <label><span class="required-symbol">*</span>选择网关集群：</label>
    </div>
    <div nz-col nzSpan="10">
      <div style="display: inline-block">
        <eo-ng-checkbox-group
          class="vertical_checkbox"
          [(ngModel)]="clustersList"
          (ngModelChange)="changeClustersSet($event)"
        ></eo-ng-checkbox-group>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #startFooterTpl let-data>
  <div>
    <div>
      <button eo-ng-button (click)="closeDrawer(data.type)">取消</button>
      <button
        eo-ng-button
        class="ant-btn-primary"
        *ngIf="data?.type === 'offline'"
        [disabled]="clustersSet.size === 0"
        (click)="apisOperatorResult(data.type)"
      >
        提交
      </button>
      <button
        eo-ng-button
        class="ml-btnybase ant-btn-primary"
        *ngIf="data?.type === 'online'"
        [disabled]="clustersSet.size === 0"
        (click)="apisOperatorResult(data.type)"
      >
        下一步
      </button>
    </div>
  </div>
</ng-template>
<ng-template #resultContentTpl let-data>
  <div *ngIf="data?.type === 'online'" class="mt-0 drawer-table">
    <eo-ng-apinto-table
      [nzTbody]="onlineResultTableBody"
      [nzThead]="onlineResultTableHeadName"
      [nzData]="onlineResultList"
      [nzTrStyleFn]="trStyleFn"
      [nzNoScroll]="true"
    >
    </eo-ng-apinto-table>
  </div>
  <div *ngIf="data?.type === 'res'" class="drawer-table">
    <eo-ng-apinto-table
      [nzTbody]="resultTableBody"
      [nzThead]="resultTableHeadName"
      [nzData]="resultList"
      [nzTrStyleFn]="trStyleFn"
      [nzNoScroll]="true"
    >
    </eo-ng-apinto-table>
  </div>
</ng-template>

<ng-template #resultFooterTpl let-data>
  <div *ngIf="data.type === 'online'">
    <button
      eo-ng-button
      class="ant-btn-primary"
      [disabled]="onlineToken === ''"
      (click)="apisOperatorResult(data.type)"
    >
      重新检测
    </button>
    <button eo-ng-button class="ml-btnybase" (click)="openDrawer(data.type)">
      上一步
    </button>
    <button
      eo-ng-button
      class="ant-btn-primary ml-btnybase"
      (click)="onlineApis()"
      [disabled]="!onlineToken"
    >
      批量上线
    </button>
  </div>
  <div *ngIf="data?.type === 'offline'">
    <button
      eo-ng-button
      class="ant-btn-primary"
      [disabled]="true"
      (click)="apisOperatorResult(data.type)"
    >
      提交
    </button>
    <button eo-ng-button class="ml-btnybase" (click)="openDrawer(data.type)">
      返回
    </button>
  </div>

  <div *ngIf="data?.type === 'res'" class="drawer-table">
    <div>
      <button eo-ng-button (click)="closeDrawer(data.type)">返回</button>
    </div>
  </div>
</ng-template>

<ng-template #disabledCheckboxTpl let-option="option">
  <span
    eoNgFeedbackTooltip
    nzTooltipTitle="该集群状态异常，请检查该集群节点运行状态"
    nzTooltipPlacement="bottom"
    [nzTooltipVisible]="false"
    nzTooltipTrigger="hover"
    >{{ option?.label }}</span
  >
</ng-template>
