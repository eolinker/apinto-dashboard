<div class="">
  <form
    nz-form
    [nzNoColon]="true"
    [nzAutoTips]="autoTips"
    [formGroup]="validateForm"
  >
    <div
      class="list-header mt-formtop flex-nowrap items-center justify-between"
    >
      <nz-form-item>
        <nz-form-label [nzSpan]="7" nzRequired>插件名称：</nz-form-label>

        <nz-form-control [nzSpan]="12" [nzErrorTip]="nameErrorTpl">
          <input
            class="w-INPUT_NORMAL"
            eo-ng-input
            #clusterNameInput
            formControlName="name"
            placeholder="英文数字下划线组合，首字母必须为英文"
            eoNgUserAccess="deploy/plugin"
            (disabledEdit)="disabledEdit($event)"
          />

          <ng-template #nameErrorTpl let-control>
            <ng-container *ngIf="control.hasError('pattern')"
              >英文数字下划线任意一种，首字母必须为英文</ng-container
            >
            <ng-container *ngIf="control.hasError('required')"
              >必填项</ng-container
            ></ng-template
          >
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSpan]="7" nzRequired>扩展ID：</nz-form-label>

        <nz-form-control [nzSpan]="12">
          <eo-ng-select
            class="w-INPUT_NORMAL"
            formControlName="extended"
            [nzOptions]="extendsList"
            [nzDisabled]="nzDisabled"
          ></eo-ng-select>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSpan]="7">依赖插件：</nz-form-label>

        <nz-form-control [nzSpan]="12">
          <eo-ng-select
            class="w-INPUT_NORMAL"
            formControlName="rely"
            nzAllowClear
            [nzOptions]="relysList"
            [nzDisabled]="nzDisabled"
            nzPlaceHolder="请选择"
          ></eo-ng-select>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item class="mb-0">
        <nz-form-label [nzSpan]="7">描述：</nz-form-label>

        <nz-form-control [nzSpan]="12">
          <textarea
            class="w-INPUT_NORMAL"
            rows="6"
            eo-ng-input
            formControlName="desc"
            placeholder="请输入"
            eoNgUserAccess="deploy/plugin"
          ></textarea>
        </nz-form-control>
      </nz-form-item>
    </div>
  </form>

  <nz-form-item class="mb-0 sticky bg-white bottom-0 py-mbase z-50">
    <nz-form-control [nzOffset]="7" [nzSpan]="18">
      <button
        class="ant-btn-primary"
        eoNgUserAccess="deploy/plugin"
        type="submit"
        eo-ng-button
        (click)="savePlugin()"
      >
        {{ editPage ? '提交' : '保存' }}
      </button>
      <button eo-ng-button class="ml-btnybase" (click)="backToList()">
        取消
      </button>
    </nz-form-control>
  </nz-form-item>
</div>
