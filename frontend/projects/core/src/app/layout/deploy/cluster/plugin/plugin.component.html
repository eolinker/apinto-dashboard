<div class="">
  <div
    class="list-header pl-btnbase pr-btnrbase py-btnybase flex flex-nowrap items-center justify-between"
  >
    <div>
      <button
        class="ant-btn-primary"
        eo-ng-button
        eoNgUserAccess="deploy/cluster"
        (click)="openDrawer('publish')"
      >
        发布
      </button>
    </div>
    <div>
      <button
        class="ml-btnybase floatR"
        eo-ng-button
        (click)="openDrawer('publishRecords')"
      >
        发布历史
      </button>
      <button
        class="floatR"
        eo-ng-button
        (click)="openDrawer('operateRecords')"
      >
        更改历史
      </button>
    </div>
  </div>
  <div class="list-content">
    <eo-ng-apinto-table
      class=""
      [nzTbody]="pluginsTableBody"
      [nzThead]="pluginsTableHeadName"
      [(nzData)]="pluginsList"
      [nzMaxOperatorButton]="1"
    >
    </eo-ng-apinto-table>
  </div>
</div>

<ng-template #operatorStatusTpl let-item="item">
  <div class="leading-[22px] flex items-center">
    <span
      class="mr-[8px]"
      eoNgFeedbackTooltip
      [nzTooltipTitle]="item.name"
      nzTooltipPlacement="top"
      [nzTooltipVisible]="false"
      nzTooltipTrigger="hover"
    >
      {{ item.name }}</span
    >

    <ng-container [ngSwitch]="item.changeStatus">
      <label class="green-bg ml10" *ngSwitchCase="'NEW'">新</label>
      <label class="grey-bg ml10" *ngSwitchCase="'MODIFY'">改</label>
      <label class="red-bg ml10" *ngSwitchCase="'DELETE'">删</label>
    </ng-container>

    <span
      class="h-[20px] leading-[22px] text-[12px] opacity-0 cursor-pointer inline-flex items-center"
      eo-copy
      nzType="primary"
      [copyText]="item.name"
      (copyCallback)="copyCallback()"
      (click)="$event.stopPropagation()"
    >
      <svg class="iconpark-icon">
        <use href="#copy"></use>
      </svg>
    </span>
  </div>
</ng-template>

<ng-template #publishStatusTpl let-item="item">
  <ng-container [ngSwitch]="item.publish">
    <span *ngSwitchCase="'UNPUBLISHED'" class="red-bold">未发布</span>
    <span *ngSwitchCase="'PUBLISHED'" class="green-bold">已发布</span>
    <span *ngSwitchCase="'DEFECT'" style="font-weight: bold">缺失</span>
  </ng-container>
</ng-template>

<ng-template #publishTypeTpl let-item="item">
  <ng-container [ngSwitch]="item.optType">
    <span *ngSwitchCase="'NEW'" class="green-bold">新增</span>
    <span *ngSwitchCase="'MODIFY'" style="font-weight: bold">更新</span>
    <span *ngSwitchCase="'DELETE'" class="grey-bold">删除</span>
  </ng-container>
</ng-template>

<ng-template #pluginStatusTpl let-item="item">
  <ng-container [ngSwitch]="item.status">
    <span *ngSwitchCase="'ENABLE'" class="green-bold">启用</span>
    <span *ngSwitchCase="'GLOBAL'" class="blue-bold">全局启用</span>
    <span *ngSwitchCase="'DISABLE'" class="grey-bold">禁用</span>
  </ng-container>
</ng-template>
