describe('监控告警 e2e test', () => {
  it('初始化页面，点击监控告警菜单', async () => {
    await page.goto('http://localhost:4200/login')
    await page.waitForTimeout(2000)
    await page.getByPlaceholder('请输入账号').click()
    await page.getByPlaceholder('请输入账号').fill('maggie')
    await page.getByPlaceholder('请输入账号').press('Tab')
    await page.getByPlaceholder('请输入密码').fill('12345678')
    await page.getByPlaceholder('请输入密码').press('Enter')
    await page.locator('eo-ng-menu-default').getByRole('link', { name: 'API管理' }).click()
  })

  it('查询接口，当改用户无分区配置列表时，进入无tab的分区配置页；检查分区配置页样式', async () => {})
  it('逐一填入分区配置，保存后进入第一个分区', async () => {})
  it('检查分区tabs样式，当前只有一个分区，当前处于分区监控总览页面，检查页面样式', async () => {})
  it('页面默认全选所有集群，时间为近一小时；如果无数据，环形图和折线图应当显示空状态；有数据则检查样式，检查滑动条', async () => {})
  it('选择不同集群，选择不同时间，当选择自定义时间时，不能选今日及今日之后的时间；选择不同筛选条件进行测试；点击重置则清空筛选条件', async () => {})
  it('检查页面下方四个表格的表头，点击筛选，点击操作配置表头信息', async () => {})
  it('点击api表格中的操作，可进入api调用统计页；通过tab返回总览，依次测试应用表格、上游表格、IP表格', async () => {})
  it('tab右上角的设置按钮，进入有tab的分区配置页；检查样式；逐一填入分区配置后保存；', async () => {})
  it('tab右上角的设置按钮，进入有tab的分区配置页,删除分区后返回分区配置页；', async () => {})
  // api调用统计
  it('再次创建分区，查看api调用统计，页面默认显示所有集群近一小时的数据；检查页面样式', async () => {})
  it('检查api表格的表头数据；检查表格的排序、表头配置操作', async () => {})
  it('检查筛选条件；当上游变化时，api选择器下拉数据随之变化；点击重置则清空数据；点击导出，导出文件命名为API调用统计-开始时间至结束时间', async () => {})
  it('点击表格内操作至api详情页，默认显示所有集群下近一小时的数据；检查页面样式；', async () => {})
  it('检查筛选条件，点击重置则还原数据；点击查询则刷新列表，点击导出则文件命名为{API名称}调用详情-开始时间至结束时间', async () => {})
  it('API调用统计详情内显示的表格区域标题为{API名称}调用明细；表格为：应用调用、请求路径、IP调用，检查表格的表头数据，测试表格的筛选、排序、表头配置；', async () => {})
  it('点击API-应用表格内的操作，出现弹窗，检查弹窗样式与标题，点击对比则出现两个折线图，关闭弹窗', async () => {})
  it('点击API-请求路径表格内的操作，出现弹窗，检查弹窗样式，点击对比则出现两个折线图，关闭弹窗', async () => {})
  it('点击API-IP调用表格内的操作，出现弹窗，检查弹窗样式，点击对比则出现两个折线图，关闭弹窗', async () => {})
  // 检查应用调用统计页
  it('从面包屑返回至API调用统计页，点击切换至应用调用统计页,页面默认显示所有集群近一小时的数据；检查页面样式', async () => {})
  it('检查应用表格的表头数据；检查表格的排序、表头配置操作', async () => {})
  it('检查筛选条件;点击重置则清空数据；点击导出，导出文件命名为应用调用统计-开始时间至结束时间', async () => {})
  it('点击表格内操作至应用详情页，默认显示所有集群下近一小时的数据；检查页面样式；', async () => {})
  it('检查筛选条件，点击重置则还原数据；点击查询则刷新列表，点击导出则文件命名为{应用名称}调用详情-开始时间至结束时间', async () => {})
  it('应用调用统计详情内显示的表格区域标题为{应用名称}调用明细；表格为：API调用、请求路径、IP调用，检查表格的表头数据，测试表格的筛选、排序、表头配置；', async () => {})
  it('点击应用-API表格内的操作，出现弹窗，检查弹窗样式与标题，点击对比则出现两个折线图，关闭弹窗', async () => {})
  it('点击应用-请求路径表格内的操作，出现弹窗，检查弹窗样式，点击对比则出现两个折线图，关闭弹窗', async () => {})
  it('点击应用-IP调用表格内的操作，出现弹窗，检查弹窗样式，点击对比则出现两个折线图，关闭弹窗', async () => {})
  // 检查上游调用统计页
  it('从面包屑返回至应用调用统计页，点击切换至上游调用统计页,页面默认显示所有集群近一小时的数据；检查页面样式', async () => {})
  it('检查上游表格的表头数据；检查表格的排序、表头配置操作', async () => {})
  it('检查筛选条件;点击重置则清空数据；点击导出，导出文件命名为上游调用统计-开始时间至结束时间', async () => {})
  it('点击表格内操作至上游详情页，默认显示所有集群下近一小时的数据；检查页面样式；', async () => {})
  it('检查筛选条件，点击重置则还原数据；点击查询则刷新列表，点击导出则文件命名为{上游名称}调用详情-开始时间至结束时间', async () => {})
  it('上游调用统计详情内显示的表格区域标题为{上游名称}调用明细；表格为：API转发、目标节点、转发路径，检查表格的表头数据，测试表格的筛选、排序、表头配置；', async () => {})
  it('点击上游-API表格内的操作，出现弹窗，检查弹窗样式与标题，点击对比则出现两个折线图，关闭弹窗', async () => {})
  it('点击上游-目标节点表格内的操作，出现弹窗，检查弹窗样式，点击对比则出现两个折线图，关闭弹窗', async () => {})
  it('点击上游-转发路径表格内的操作，出现弹窗，检查弹窗样式，点击对比则出现两个折线图，关闭弹窗', async () => {})
  // 检查IP调用统计页
  it('从面包屑返回至上游调用统计页，点击切换至IP调用统计页,页面默认显示所有集群近一小时的数据；检查页面样式', async () => {})
  it('检查IP表格的表头数据；检查表格的排序、表头配置操作', async () => {})
  it('检查筛选条件;点击重置则清空数据；点击导出，导出文件命名为IP调用统计-开始时间至结束时间', async () => {})
  it('点击表格内操作至IP详情页，默认显示所有集群下近一小时的数据；检查页面样式；', async () => {})
  it('检查筛选条件，点击重置则还原数据；点击查询则刷新列表，点击导出则文件命名为{IP名称}调用详情-开始时间至结束时间', async () => {})
  it('IP调用统计详情内显示的表格区域标题为{IP名称}调用明细；表格为：API调用、应用调用、请求路径，检查表格的表头数据，测试表格的筛选、排序、表头配置；', async () => {})
  it('点击IP-API表格内的操作，出现弹窗，检查弹窗样式与标题，点击对比则出现两个折线图，关闭弹窗', async () => {})
  it('点击IP-应用调用表格内的操作，出现弹窗，检查弹窗样式，点击对比则出现两个折线图，关闭弹窗', async () => {})
  it('点击IP-请求路径表格内的操作，出现弹窗，检查弹窗样式，点击对比则出现两个折线图，关闭弹窗', async () => {})
  // 测试tabs、表头配置
  it('点击tab上的加号新建分区，出现带tab的配置页，点击取消，页面重新回到第一个分区，并停留在上次查看页面（IP调用详情）', async () => {})
  it('点击tab上加号新建分区，新建后进入新分区的监控总览页面，默认所有集群近一小时的数据，点击所有页面，查看表头配置（与上次配置相同）；最后tab切换至API调用总览页', async () => {})
  it('点击新建分区，新建分区后进入新分区的监控总览页面，点击停留在应用调用详情总览；切换第一个分区，第一个分区停留在IP调用详情；切换第二个分区，第二个分区停留在API调用总览；切换回第三个分区', async () => {})
  it('刷新浏览器（url重载），页面停留在第三个分区，删除第三个分区，页面停留在第二个分区（API调用总览）', async () => {})
  it('新建分区，在未提交的清空下刷新url，则页面不显示第三个分区，停留在第二个分区', async () => {})
  it('新建分区，此时有三个分区，回到第一个分区，此时页面在IP调用详情；删除第一个分区，则页面停留在第二个分区；', async () => {})
  it('新建分区，此时有三个分区，删除第二个分区，页面停留在第二个分区（原先的第三个分区）', async () => {})
  it('切换至API管理菜单，再切回监控页面，页面显示两个分区，停留在第一个分区', async () => {})
})
