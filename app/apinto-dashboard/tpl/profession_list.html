{{- block "header" . -}}
<link href="/css/bootstrap-table.min.css" rel="stylesheet"  rel="stylesheet">
{{- end -}}
{{- block "content" .}}
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">{{index .module.I18nName .zone}}</h1>
</div>

<table
        id="table"
        data-toggle="table"
        data-flat="true"
        data-url="/api/{{.name}}">
    <caption>List of {{.name}}</caption>
    <thead>
    <tr>
        {{- range $i,$t := (index .data.Title .zone)}}
        <th data-field="data.{{index $.data.Fields $i}}" data-sortable="true">{{ $t}}</th>
        {{- end }}
        <th data-field="operate" data-formatter="operateFormatter" data-events="operateEvents">操作</th>
    </tr>
    </thead>

</table>
{{- end -}}
{{- block "script" . -}}
<script src="/js/bootstrap-table.min.js"></script>
<script>
    var $table = $('#table')

    function operateFormatter(value, row, index) {
        return [
            '<a class="like" href="javascript:void(0)" title="Like">',
            '<i class="fa fa-heart"></i>',
            '</a>  ',
            '<a class="remove" href="javascript:void(0)" title="Remove">',
            '<i class="fa fa-trash"></i>',
            '</a>'
        ].join('')
    }

    window.operateEvents = {
        'click .like': function (e, value, row, index) {
            alert('You click like action, row: ' + JSON.stringify(row))
        },
        'click .remove': function (e, value, row, index) {
            $table.bootstrapTable('remove', {
                field: 'id',
                values: [row.id]
            })
        }
    }
</script>
{{- end -}}
